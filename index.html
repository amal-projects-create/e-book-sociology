<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sociologists‚Äô Views on Education - Mini E-Book</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: 1px solid rgba(255, 255, 255, 0.3);
            --text-color: #2d3436;
            /* Dark Grey for standard text */
            --accent-color: #6c5ce7;
            --bg-color: #dfe6e9;
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-color);
            background-image: radial-gradient(circle at 10% 20%, rgb(216, 241, 230) 0%, rgb(233, 226, 226) 90%);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
            transition: background 0.5s ease;
            overflow-x: hidden;
        }

        .ebook-container {
            width: 95vw;
            /* Occupy 95% of the screen width */
            max-width: 98%;
            /* Remove the 1000px limit that was making it narrow */
            min-height: 85vh;
            /* Keeps it substantial but flexible */
            height: auto;
            /* Allow it to grow long so you can scroll naturally */

            background: var(--glass-bg);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: var(--glass-border);
            box-shadow: var(--shadow);
            border-radius: 20px;
            overflow: visible;
            /* Allow scrolling */
            position: relative;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;

            /* Decoration */
            box-shadow:
                0 20px 50px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.4);
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(0, 0, 0, 0.05);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            width: 14%;
            transition: width 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 0 10px rgba(118, 75, 162, 0.5);
        }

        /* Page Content */
        .page {
            display: none !important;
            padding: 40px 60px;
            flex-grow: 1;
            overflow-y: auto;
            animation: slideUp 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .page.active {
            display: block !important;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Typography & Visibility Fixes */
        body.font-large .page {
            font-size: 1.2em;
        }

        body.font-small .page {
            font-size: 0.9em;
        }

        /* H1: Added fallback color in case gradient clip fails */
        h1 {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: var(--accent-color);
            /* Fallback visibility */
            font-size: 2.5em;
            margin-bottom: 0.2em;
        }

        h2 {
            color: var(--accent-color);
            border-bottom: 2px solid rgba(108, 92, 231, 0.2);
            padding-bottom: 15px;
        }

        /* Text: Darkened for better readability */
        p,
        li {
            line-height: 1.7;
            font-size: 1.05em;
            color: #333;
            margin-bottom: 15px;
        }

        .cover-page {
            text-align: center;
            justify-content: center;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* RESTORED: Subtitle and Student Details Box */
        .cover-subtitle {
            font-size: 1.3em;
            color: #555;
            margin-bottom: 30px;
            font-weight: 500;
        }

        .student-details {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #eee;
            padding: 25px;
            border-radius: 12px;
            display: inline-block;
            text-align: left;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        /* Concept & Reflection Boxes */
        .concept-box {
            background: rgba(108, 92, 231, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
            font-style: italic;
            color: #333;
        }

        .reflection-box {
            background: #fff9c4;
            border-left: 4px solid #fbc531;
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            color: #444;
        }

        /* Tooltips */
        .tooltip-term {
            border-bottom: 2px dashed var(--accent-color);
            color: var(--accent-color);
            cursor: help;
            position: relative;
            font-weight: 600;
            transition: all 0.2s;
        }

        .tooltip-term:hover {
            background: rgba(108, 92, 231, 0.1);
        }

        /* Navigation Controls */
        .nav-controls {
            padding: 20px 50px;
            background: rgba(255, 255, 255, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(118, 75, 162, 0.3);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Top Tools Bar */
        .tools-container {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .tool-btn {
            background: white;
            color: #444;
            border: 1px solid #ccc;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .tool-btn:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
        }

        /* Dark Mode */
        body.dark-mode {
            --bg-color: #1e1e1e;
            --text-color: #f5f6fa;
            --glass-bg: rgba(30, 30, 30, 0.95);
            --glass-border: 1px solid #444;
            background-image: none;
        }

        body.dark-mode p,
        body.dark-mode li,
        body.dark-mode .concept-box {
            color: #dcdde1;
        }

        body.dark-mode .tool-btn {
            background: #333;
            border-color: #444;
            color: #ccc;
        }

        body.dark-mode .reflection-box {
            background: #4b4b3b;
            border-left-color: #f1c40f;
            color: #fff;
        }

        body.dark-mode .tooltip-term {
            color: #74b9ff;
            border-bottom-color: #74b9ff;
        }

        body.dark-mode .student-details {
            background: #34495e;
            border-color: #444;
            color: #fff;
        }

        /* Quiz Styles */
        .quiz-option {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border: 2px solid #ccc;
            border-radius: 10px;
            cursor: pointer;
            text-align: left;
            transition: 0.2s;
            font-weight: 500;
            color: #333;
        }

        .quiz-option:hover {
            border-color: var(--accent-color);
            background: #f8f9fa;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        body.dark-mode .quiz-option {
            background: #2f3640;
            border-color: #444;
            color: white;
        }

        /* Sidebar Notes */
        .notes-sidebar {
            position: absolute;
            top: 0;
            right: -350px;
            width: 320px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: right 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 200;
            display: flex;
            flex-direction: column;
            border-left: 1px solid #eee;
        }

        .notes-sidebar.open {
            right: 0;
        }

        .notes-header {
            padding: 20px;
            background: var(--primary-gradient);
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notes-body {
            flex-grow: 1;
            padding: 20px;
            background: #f8f9fa;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .notes-area {
            width: 100%;
            height: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 12px;
            font-family: inherit;
            resize: none;
            margin-bottom: 10px;
            box-sizing: border-box;
            color: #333;
        }

        .notes-footer {
            padding: 15px;
            border-top: 1px solid #eee;
            text-align: center;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 0.85em;
        }

        body.dark-mode .notes-sidebar {
            background: #2c3e50;
            border-left-color: #444;
        }

        body.dark-mode .notes-area {
            background: #34495e;
            color: white;
            border-color: #444;
        }

        /* Grid Overview */
        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.98);
            z-index: 150;
            display: none;
            flex-direction: column;
            padding: 40px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .grid-overlay.show {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .grid-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .grid-item:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            box-shadow: 0 8px 15px rgba(108, 92, 231, 0.2);
        }

        /* FIX: Made grid numbers darker for visibility */
        .grid-num {
            font-size: 2em;
            font-weight: bold;
            color: #888;
            margin-bottom: 10px;
        }

        .grid-title {
            font-size: 0.9em;
            font-weight: 600;
            color: #333;
        }

        body.dark-mode .grid-overlay {
            background: rgba(30, 30, 30, 0.98);
        }

        body.dark-mode .grid-item {
            background: #333;
            border-color: #444;
        }

        body.dark-mode .grid-title {
            color: #eee;
        }

        /* Toast & Modal */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .toast.show {
            opacity: 1;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 999;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(3px);
        }

        .modal-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            width: 500px;
            max-width: 90%;
            position: relative;
            animation: slideUp 0.3s;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            color: #333;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5em;
            cursor: pointer;
            background: none;
            border: none;
            color: #999;
        }

        .close-modal:hover {
            color: #333;
        }

        body.dark-mode .modal-box {
            background: #2c3e50;
            color: white;
        }

        .bg-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .shape {
            position: absolute;
            filter: blur(50px);
            opacity: 0.6;
            animation: floatShape 20s infinite alternate;
        }

        .shape-1 {
            top: -10%;
            left: -10%;
            width: 500px;
            height: 500px;
            background: rgba(108, 92, 231, 0.4);
            border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
            animation-duration: 25s;
        }

        .shape-2 {
            bottom: -10%;
            right: -5%;
            width: 400px;
            height: 400px;
            background: rgba(116, 185, 255, 0.4);
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            animation-delay: -5s;
        }

        .shape-3 {
            top: 40%;
            left: 40%;
            width: 300px;
            height: 300px;
            background: rgba(253, 121, 168, 0.3);
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            animation-duration: 35s;
        }

        @keyframes floatShape {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(50px, 50px) rotate(20deg);
            }
        }

        /* 2. Custom Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.02);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(108, 92, 231, 0.3);
            border-radius: 5px;
            border: 2px solid transparent;
            background-clip: content-box;
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: rgba(108, 92, 231, 0.6);
        }

        /* 3. Enhanced Card & Glass Effects */
        .ebook-container {
            /* Adding a subtle inner border for depth */
            box-shadow:
                0 20px 50px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.4);
        }

        .concept-box {
            position: relative;
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.05) 0%, rgba(108, 92, 231, 0.15) 100%);
            border: none;
            border-left: 5px solid var(--accent-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
            transition: transform 0.3s ease;
        }

        .concept-box:hover {
            transform: translateX(5px);
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.1) 0%, rgba(108, 92, 231, 0.2) 100%);
        }

        .concept-box::after {
            content: 'üí°';
            position: absolute;
            top: -15px;
            right: -10px;
            font-size: 1.5rem;
            background: white;
            border-radius: 50%;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* 4. Enhanced Typography */
        h1 {
            font-weight: 800;
            letter-spacing: -1px;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.05);
            margin-bottom: 0.5em;
        }

        h2 {
            position: relative;
            display: inline-block;
            border-bottom: none;
            margin-bottom: 30px;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40%;
            height: 4px;
            background: var(--primary-gradient);
            border-radius: 2px;
            transition: width 0.3s;
        }

        .page:hover h2::after {
            width: 100%;
        }

        p strong {
            color: var(--accent-color);
        }

        /* 5. UI Element Polish (Tables & Lists) */
        table {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            animation: fadeIn 1s ease;
        }

        th {
            background: var(--primary-gradient) !important;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-size: 0.85em;
        }

        tr {
            transition: background 0.2s;
        }

        tr:hover td {
            background: rgba(108, 92, 231, 0.05);
        }

        ul li {
            position: relative;
            padding-left: 25px;
            list-style: none;
        }

        ul li::before {
            content: '‚û§';
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-size: 0.8em;
            top: 5px;
        }

        /* 6. ID Card Style for Student Details */
        .student-details {
            position: relative;
            background: linear-gradient(120deg, #ffffff 0%, #f0f2f5 100%);
            border: none;
            box-shadow:
                0 10px 20px rgba(0, 0, 0, 0.08),
                inset 0 0 0 1px rgba(255, 255, 255, 0.8);
            transform-style: preserve-3d;
            perspective: 1000px;
            transition: transform 0.3s;
            max-width: 400px;
            margin: 0 auto;
        }

        .student-details:hover {
            transform: translateY(-5px) rotateX(2deg);
        }

        .student-details::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 12px 0 0 12px;
        }

        /* 7. Enhanced Quiz Options */
        .quiz-option {
            position: relative;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: linear-gradient(to right, #ffffff, #f9f9f9);
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.05);
            transform: translateY(0);
            transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .quiz-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 rgba(0, 0, 0, 0.05);
            padding-left: 20px;
        }

        .quiz-option:active {
            transform: translateY(2px);
            box-shadow: 0 0 0 rgba(0, 0, 0, 0);
        }

        /* 8. Tooltip & Notes Polish */
        .tool-btn {
            backdrop-filter: blur(5px);
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .tool-btn:hover {
            background: white;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.2);
        }

        /* Dark Mode Specific Overrides for New Elements */
        body.dark-mode .shape {
            opacity: 0.2;
        }

        body.dark-mode .concept-box {
            background: rgba(108, 92, 231, 0.1);
        }

        body.dark-mode .concept-box::after {
            background: #444;
            color: #eee;
        }

        body.dark-mode .student-details {
            background: linear-gradient(120deg, #2c3e50 0%, #34495e 100%);
        }

        body.dark-mode tr:hover td {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Loading Animation for Page Load */
        @keyframes containerFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .ebook-container {
            animation: containerFadeIn 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        /* 1. Global Text Reset for Dark Mode */
        body.dark-mode,
        body.dark-mode p,
        body.dark-mode li,
        body.dark-mode div,
        body.dark-mode span {
            color: #e6e6e6 !important;
            /* Force light grey text */
        }

        /* 2. Make Headings Pop */
        body.dark-mode h1 {
            -webkit-text-fill-color: #ffffff;
            /* Remove gradient clips that might look dim */
            color: #ffffff;
        }

        body.dark-mode h2,
        body.dark-mode h3 {
            color: #a29bfe !important;
            /* Light Pastel Purple */
            border-bottom-color: rgba(255, 255, 255, 0.2);
        }

        body.dark-mode h4 {
            color: #ff7675 !important;
            /* Light Salmon for sub-headers */
        }

        body.dark-mode strong {
            color: #ffffff !important;
            /* Bright white for bold text */
        }

        body.dark-mode .cover-subtitle {
            color: #b2bec3 !important;
            /* Fix cover page subtitle visibility */
        }


        body.dark-mode div[style*="background: rgba(255,255,255,0.6)"] {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid #555;
        }

        body.dark-mode table {
            background: #2d3436 !important;
            color: #fff !important;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode th {
            color: #fff !important;
        }

        body.dark-mode td {
            color: #dfe6e9 !important;
            border-bottom: 1px solid #444 !important;
        }

        /* 5. Fix Reflection & Concept Box Text */
        body.dark-mode .reflection-box {
            color: #f5f6fa !important;
            background: #4b4b3b !important;
        }

        body.dark-mode .concept-box {
            color: #dfe6e9 !important;
        }

        /* 6. Inputs and Text Areas */
        body.dark-mode textarea {
            background: #2d3436;
            color: white;
            border: 1px solid #555;
        }

        body.dark-mode div[style*="background: white"] {
            background: #2d3436 !important;
            /* Dark Grey Background */
            border: 1px solid #444;
            /* Subtle border */
            color: #dfe6e9 !important;
            /* Light Text */
        }

        /* Fix the divider line inside that box */
        body.dark-mode hr {
            border-top-color: #555 !important;
            /* Dim the separator line */
            opacity: 0.5;
        }

        .glossary-item {
            background: rgba(255, 255, 255, 0.5);
            /* Semi-transparent background */
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--accent-color);
            /* Purple accent line */
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.2s ease;
        }

        .glossary-item:hover {
            background: white;
            transform: translateX(5px);
            /* Slide slightly on hover */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .glossary-term {
            font-weight: 700;
            font-size: 1.1em;
            color: var(--accent-color);
            margin-bottom: 5px;
            display: block;
            letter-spacing: -0.5px;
        }

        /* Dark Mode Support for Glossary */
        body.dark-mode .glossary-item {
            background: #2d3436;
            border-color: #444;
            border-left-color: #a29bfe;
            /* Lighter purple for dark mode */
        }

        body.dark-mode .glossary-item:hover {
            background: #353b48;
        }

        body.dark-mode .glossary-term {
            color: #a29bfe;
        }

        /* --- DEBATE CARDS STYLING --- */
        .debate-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .debate-card {
            flex: 1;
            min-width: 250px;
            background: rgba(255, 255, 255, 0.6);
            padding: 15px;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .debate-card.functionalism {
            border-left: 3px solid #2ecc71;
        }

        .debate-card.marxism {
            border-left: 3px solid #e74c3c;
        }

        /* Dark Mode Overrides for Debate Cards */
        body.dark-mode .debate-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #444;
        }
    </style>
</head>

<body>

    <div class="bg-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <div class="ebook-container">
        <div class="tools-container">
            <button class="tool-btn" onclick="openModal()">üìñ Glossary</button>
            <button class="tool-btn" onclick="toggleOverview()">üìë Grid View</button>
            <button class="tool-btn" onclick="toggleTheme()">üåó Theme</button>
            <button class="tool-btn" onclick="adjustFont(1)">A+</button>
            <button class="tool-btn" onclick="adjustFont(-1)">A-</button>
            <button class="tool-btn" onclick="toggleNotes()">üìù Notes</button>
        </div>
        <div class="grid-overlay" id="gridOverlay">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2>Chapter Overview</h2>
                <button class="close-modal" onclick="toggleOverview()">‚úï</button>
            </div>
            <div class="grid-container">
                <div class="grid-item" onclick="jumpToPage(1)">
                    <div class="grid-num">1</div>
                    <div class="grid-title">Cover</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(2)">
                    <div class="grid-num">2</div>
                    <div class="grid-title">Introduction</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(3)">
                    <div class="grid-num">3</div>
                    <div class="grid-title">Social Control</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(4)">
                    <div class="grid-num">4</div>
                    <div class="grid-title">Culture</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(5)">
                    <div class="grid-num">5</div>
                    <div class="grid-title">Social Strata</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(6)">
                    <div class="grid-num">6</div>
                    <div class="grid-title">State Ideology</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(7)">
                    <div class="grid-num">7</div>
                    <div class="grid-title">Quiz</div>
                </div>
                <div class="grid-item" onclick="jumpToPage(8)">
                    <div class="grid-num">8</div>
                    <div class="grid-title">Reflection</div>
                </div>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="page active cover-page" id="page1">
            <h1>Sociology in Education</h1>
            <div class="cover-subtitle">A Digital Mini E-Book on Sociologists' Views</div>

            <div class="student-details">
                <p><strong>Name:</strong> Amal Ajwad</p>
                <p><strong>Course:</strong> Sociology in Education</p>
                <p><strong>Topic:</strong> Sociologists‚Äô Views on Education</p>
                <p><strong>Date:</strong> 20/01/2025</p>
            </div>

            <p style="margin-top: 40px; color: #999; font-size: 0.9em;">Click 'Next' to begin reading</p>
        </div>

        <div class="page" id="page2">
            <h2>Introduction: Education as a Mirror</h2>
            <p>Education is not just about learning facts; it is a complex social institution. Sociologists view education as a <strong>"mirror of society,"</strong> reflecting the order, culture, inequalities, and power dynamics of the world we live in.</p>

            <div class="concept-box">
                "Sociologists examine what this mirror reflects‚Äîorder, culture, inequality, and power."
            </div>

            <h3>The Great Debate: Consensus vs. Conflict</h3>
            <p>Before diving into specific functions, we must understand the two main "lenses" sociologists use:</p>

            <div class="debate-container">
                <div class="debate-card functionalism">
                    <h4 style="margin-top:0; color: #27ae60;">1. Functionalism (Consensus)</h4>
                    <p style="font-size: 0.9em;">Believes education is beneficial. It sorts people into the right jobs (Meritocracy) and teaches shared values (Social Solidarity) to keep society stable.</p>
                </div>
                <div class="debate-card marxism">
                    <h4 style="margin-top:0; color: #c0392b;">2. Marxism (Conflict)</h4>
                    <p style="font-size: 0.9em;">Believes education is oppressive. It reproduces class inequality, teaches obedience to authority, and validates the culture of the rich while ignoring the poor.</p>
                </div>
            </div>

            <h3>In this E-Book, we explore 4 Key Dimensions:</h3>
            <ul>
                <li><strong>Social Control:</strong> Creating the "Obedient Worker."</li>
                <li><strong>Cultural Dissemination:</strong> Whose culture counts?</li>
                <li><strong>Social Strata:</strong> The sorting machine.</li>
                <li><strong>State Ideology:</strong> Creating the "Loyal Citizen."</li>
            </ul>
        </div>

        <div class="page" id="page3">
            <h2>1. Social Control & The Hidden Curriculum</h2>

            <h3>The "Hidden Curriculum"</h3>
            <p>Schools teach Math and English, but they also teach the <strong>Hidden Curriculum</strong>‚Äîlessons learned not from books, but from the structure of school itself. This includes punctuality, obedience, and accepting boredom.</p>

            <h3>The Correspondence Principle (Bowles & Gintis)</h3>
            <p>Marxists Bowles and Gintis (1976) argue that schools are designed to mirror the factory floor. They call this the <strong>Correspondence Principle</strong>.</p>

            <div style="overflow-x: auto;">
                <table style="width:100%; border-collapse: collapse; margin: 20px 0; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                    <thead>
                        <tr style="background: var(--primary-gradient); color: white;">
                            <th style="padding:12px; text-align: left;">School Feature</th>
                            <th style="padding:12px; text-align: left;">Workplace Feature</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #eee;">
                            <td style="padding:12px;"><strong>The Bell:</strong> Rigid time structures.</td>
                            <td style="padding:12px;"><strong>The Shift:</strong> Clocking in/out.</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #eee;">
                            <td style="padding:12px;"><strong>The Teacher:</strong> Absolute authority.</td>
                            <td style="padding:12px;"><strong>The Boss:</strong> Hierarchy & Management.</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #eee;">
                            <td style="padding:12px;"><strong>Grades:</strong> External motivation.</td>
                            <td style="padding:12px;"><strong>Wages:</strong> Working for pay, not passion.</td>
                        </tr>
                   </tbody>
            </table>
            </div>

                <div class="reflection-box">
                    <strong>Discussion Point:</strong> Think about your own schooling. Were you rewarded for being <em>creative</em> or for being <em>compliant</em>?
                </div>
            </div>

            <div class="page" id="page4">
                <h2>2. Cultural Dissemination & Capital</h2>

                <h3>The Concept of "Habitus"</h3>
                <p>Pierre Bourdieu used the term <strong>Habitus</strong> to describe the habits, skills, and dispositions we acquire from our family. He argued that the education system values the Habitus of the middle class while devaluing the working class.</p>

                <h3>Cultural Capital</h3>
                <p>Just as you can have economic capital (money), you can have <strong>Cultural Capital</strong> (knowledge of art, literature, complex vocabulary). Schools reward students who possess this capital.</p>

                <div class="concept-box" style="border-left-color: #e84393; background: rgba(232, 67, 147, 0.1);">
                    <strong>Basil Bernstein‚Äôs Language Codes:</strong><br>
                    1. <em>Restricted Code:</em> Short, context-dependent speech (often Working Class).<br>
                    2. <em>Elaborated Code:</em> Complex, detailed speech (Middle Class & Teachers).
                </div>

                <p>Because textbooks and exams use the <strong>Elaborated Code</strong>, working-class students effectively have to learn a second language to succeed, putting them at a disadvantage.</p>

                <div class="reflection-box">
                    <strong>Critical Question:</strong> Is the curriculum "neutral"? Why do we study Shakespeare but rarely study Rap lyrics, even though both are forms of complex poetry?
                </div>
            </div>

            <div class="page" id="page5">
                <h2>3. Social Strata & Selection</h2>

                <h3>The Myth of Meritocracy?</h3>
                <p>Functionalists like Davis and Moore believe schools act as a sieve, sorting the most talented individuals into the most important roles. This is <strong>Role Allocation</strong>.</p>

                <p> However, statistics often show that class background predicts success more than raw intelligence. This suggests <strong>Meritocracy</strong> (rule by merit) might be a myth.</p>

                <h3>Teacher Labeling (The Self-Fulfilling Prophecy)</h3>
                <p>Sociologist Howard Becker found that teachers often judge students not on ability, but on how closely they fit the image of the "Ideal Pupil" (typically middle-class, quiet, tidy).</p>

                <ul>
                    <li><strong>Step 1:</strong> Teacher labels student as "troublemaker."</li>
                    <li><strong>Step 2:</strong> Teacher treats student with suspicion.</li>
                    <li><strong>Step 3:</strong> Student internalizes the label and acts out.</li>
                    <li><strong>Step 4:</strong> Failure confirms the teacher's original belief.</li>
                </ul>

                <div class="reflection-box">
                    <strong>Case Study: Paul Willis - "Learning to Labour"</strong><br>
                    Willis studied a group of working-class "lads" who rejected school values. They saw through the meritocracy myth, realizing they were destined for manual labor, so they chose to have "a laugh" instead of studying.
                </div>
            </div>

            <div class="page" id="page6">
                <h2>4. State Ideology & Power</h2>

                <h3>Althusser: The Ideological State Apparatus</h3>
                <p>Louis Althusser (1971) argued the state has two ways to keep control:</p>
                <ol>
                    <li><strong>Repressive State Apparatus (RSA):</strong> Police, Army (Force).</li>
                    <li><strong>Ideological State Apparatus (ISA):</strong> Religion, Media, <em>Education</em> (Mind Control).</li>
                </ol>
                <p>Education is the most powerful ISA because it influences virtually every child for years, ensuring they accept the political system without question.</p>

                <h3>Globalization & PISA</h3>
                <p>In the modern world, state ideology has shifted towards <strong>Neoliberalism</strong>‚Äîtreating schools like businesses. Governments obsess over PISA rankings (international test comparisons), often narrowing the curriculum to Math and Science to compete globally, while cutting Arts and Humanities.</p>

                <div class="concept-box">
                    "History classes are often used to build a sense of national identity, sometimes glossing over the darker parts of a nation's past."
                </div>
            </div>

            <div class="page" id="page_quiz">
                <h2>Knowledge Check</h2>
                <p>Test your understanding of the four sociological perspectives.</p>

                <div class="quiz-container" id="q1">
                    <h3>1. Which sociologist discussed the "Correspondence Principle"?</h3>
                    <button class="quiz-option" onclick="checkAnswer(this, 'correct', 'q1')">Bowles & Gintis</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q1')">√âmile Durkheim</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q1')">Talcott Parsons</button>
                    <div class="quiz-feedback"></div>
                </div>

                <div class="quiz-container" id="q2">
                    <h3>2. What is "Cultural Capital"?</h3>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q2')">Money used to build schools.</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'correct', 'q2')">Knowledge/tastes that give social advantage.</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q2')">The capital city of a country.</button>
                    <div class="quiz-feedback"></div>
                </div>

                <div class="quiz-container" id="q3">
                    <h3>3. According to Becker, how does "Labeling" affect students?</h3>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q3')">It motivates them to prove teachers wrong.</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q3')">It has no effect on grades.</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'correct', 'q3')">It creates a Self-Fulfilling Prophecy.</button>
                    <div class="quiz-feedback"></div>
                </div>

                <div class="quiz-container" id="q4">
                    <h3>4. What does Althusser call the education system?</h3>
                    <button class="quiz-option" onclick="checkAnswer(this, 'correct', 'q4')">Ideological State Apparatus (ISA)</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q4')">Repressive State Apparatus (RSA)</button>
                    <button class="quiz-option" onclick="checkAnswer(this, 'wrong', 'q4')">The Hidden Curriculum</button>
                    <div class="quiz-feedback"></div>
                </div>
            </div>

            <div class="page" id="page_reflection">
                <h2>Personal Reflection</h2>

                <div class="concept-box">
                    "Education is not neutral. You are learning to 'see' education through a critical sociological lens."
                </div>

                <h3>Which perspective do you align with?</h3>
                <p>Having reviewed the materials, consider the following:</p>

                <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <p><strong>Do you agree with Functionalism?</strong><br>
                        <em>"Schools are fair ladders. If I work hard, I will climb."</em>
                    </p>
                    <hr style="border: 0; border-top: 1px solid #eee;">
                    <p><strong>Do you agree with Conflict Theory?</strong><br>
                        <em>"Schools are rigged games. The ladder is broken for the poor."</em>
                    </p>
                </div>

                <h3>Final Task</h3>
                <p>Use the <strong>"Notes"</strong> feature (top right) to write a summary of how your view of school has changed after reading this e-book. You can then download it as a text file.</p>

                <div class="reflection-box" style="background: #e0f2f1; border-left-color: #009688;">
                    <strong>Thank You!</strong><br>
                    You have completed the module on Sociological Perspectives in Education.
                </div>

                <div style="text-align: center; margin-top: 40px; opacity: 0.6;">
                    <p>Designed by Amal Ajwad | 2025</p>
                </div>
            </div>

            <div class="nav-controls">
                <button id="prevBtn" onclick="changePage(-1)" disabled>Previous</button>
                <span class="page-number">Page <span id="pageNum">1</span> of 8</span>
                <button id="nextBtn" onclick="changePage(1)">Next</button>
            </div>
        </div>
        <div class="modal-overlay" id="glossaryModal">
            <div class="modal-box">
                <button class="close-modal" onclick="closeModal()">&times;</button>
                <h2 style="margin-top:0;">Sociological Glossary</h2>

                <div class="glossary-item">
                    <div class="glossary-term">Hidden Curriculum</div>
                    <div>The unwritten, unofficial, and often unintended lessons, values, and perspectives that students learn in school (e.g., how to interact with peers, obedience).</div>
                </div>

                <div class="glossary-item">
                    <div class="glossary-term">Meritocracy</div>
                    <div>A social system where people's success and status depend primarily on their talents, abilities, and effort, rather than their wealth or class.</div>
                </div>

                <div class="glossary-item">
                    <div class="glossary-term">Social Control</div>
                    <div>The study of the mechanisms, in the form of patterns of pressure, through which society maintains social order and cohesion.</div>
                </div>

                <div class="glossary-item">
                    <div class="glossary-term">Ideological State Apparatus</div>
                    <div>A term by Louis Althusser denoting institutions such as education, the churches, family, media, etc., which serve to transmit the values of the state.</div>
                </div>
            </div>
        </div>

        <div class="notes-sidebar" id="notesSidebar">
            <div class="notes-header">
                <span>Study Notes</span>
                <span style="cursor:pointer" onclick="toggleNotes()">‚úï</span>
            </div>
            <div class="notes-body">
                <p style="font-size:0.9em; margin-top:0; color:#888;">Notes for current page:</p>
                <textarea class="notes-area" id="noteInput" placeholder="Type your analysis here..."></textarea>
            </div>
            <div class="notes-footer">
                <button class="btn-small" onclick="saveNote()">Save</button>
                <button class="btn-small" onclick="downloadNotes()" style="background:#555;">Export .txt</button>
            </div>
        </div>

        <div class="toast" id="toast">Note Saved!</div>

        <script>
            // --- CONFIGURATION ---
            let currentPage = 1;
            const totalPages = 8;
            const notesStorage = JSON.parse(localStorage.getItem('socio_ebook_notes')) || {};
            let currentFontScale = 1.0;

            // Fixed ID Mapping
            function getPageId(num) {
                if (num === 1) return 'page1'; // Cover
                if (num === 2) return 'page2'; // Intro
                if (num === 3) return 'page3'; // Control
                if (num === 4) return 'page4'; // Culture
                if (num === 5) return 'page5'; // Strata
                if (num === 6) return 'page6'; // State
                if (num === 7) return 'page_quiz'; // Quiz
                if (num === 8) return 'page_reflection'; // Reflection (Renamed for clarity)
            }

            // --- CORE NAVIGATION ---
            function changePage(direction) {
                if (document.getElementById('notesSidebar').classList.contains('open')) saveNote();

                // Boundary Checks
                const next = currentPage + direction;
                if (next < 1 || next > totalPages) return;

                currentPage = next;
                updateView();
                window.scrollTo(0, 0); // Scroll to top on page change
            }

            function jumpToPage(num) {
                if (document.getElementById('notesSidebar').classList.contains('open')) saveNote();
                currentPage = num;
                toggleOverview();
                updateView();
                window.scrollTo(0, 0);
            }

            function updateView() {
                // Hide all pages
                const pages = document.querySelectorAll('.page');
                pages.forEach(p => p.classList.remove('active'));

                // Show Current
                const newId = getPageId(currentPage);
                const activeEl = document.getElementById(newId);
                if (activeEl) {
                    activeEl.classList.add('active');
                } else {
                    console.error("Missing Page ID:", newId); // Debugging aid
                }

                // Update UI
                document.getElementById('pageNum').innerText = currentPage;
                const percentage = (currentPage / totalPages) * 100;
                document.getElementById('progressBar').style.width = `${percentage}%`;

                document.getElementById('prevBtn').disabled = (currentPage === 1);
                const nextBtn = document.getElementById('nextBtn');
                nextBtn.disabled = (currentPage === totalPages);
                nextBtn.innerText = (currentPage === totalPages) ? "Finish" : "Next";

                loadNote();
            }

            // --- QUIZ LOGIC (Enhanced) ---
            function checkAnswer(btn, status, qId) {
                const container = document.getElementById(qId);
                const feedback = container.querySelector('.quiz-feedback');
                const options = container.querySelectorAll('.quiz-option');

                // Lock options
                options.forEach(opt => {
                    opt.disabled = true;
                    opt.style.cursor = 'default';
                    // Highlight the correct answer even if they picked wrong
                    if (opt.getAttribute('onclick').includes("'correct'")) {
                        opt.style.border = "2px solid #28a745";
                        opt.style.background = "#d4edda";
                        opt.style.color = "#155724";
                    }
                });

                if (status === 'wrong') {
                    btn.style.background = "#f8d7da";
                    btn.style.borderColor = "#dc3545";
                    btn.style.color = "#721c24";
                }

                feedback.style.display = 'block';
                feedback.innerHTML = (status === 'correct') ?
                    "<strong>‚úÖ Correct!</strong> Well done." :
                    "<strong>‚ùå Incorrect.</strong> Review the theory box above.";

                feedback.style.marginTop = "15px";
                feedback.style.padding = "10px";
                feedback.style.borderRadius = "5px";
                feedback.style.background = (status === 'correct') ? "rgba(40, 167, 69, 0.1)" : "rgba(220, 53, 69, 0.1)";
            }

            // --- UTILS ---
            function toggleOverview() {
                document.getElementById('gridOverlay').classList.toggle('show');
            }

            function toggleTheme() {
                document.body.classList.toggle('dark-mode');
            }

            function openModal() {
                document.getElementById('glossaryModal').style.display = 'flex';
            }

            function closeModal() {
                document.getElementById('glossaryModal').style.display = 'none';
            }

            function adjustFont(dir) {
                // Increment or decrement by 0.1 (10%)
                currentFontScale += (dir * 0.1);

                // Set sensible limits (0.7x to 1.5x size)
                if (currentFontScale < 0.7) currentFontScale = 0.7;
                if (currentFontScale > 1.5) currentFontScale = 1.5;

                // Apply directly to the page content wrapper
                const pages = document.querySelectorAll('.page');
                pages.forEach(page => {
                    page.style.fontSize = `${currentFontScale}em`;
                });
            }

            // --- NOTES SYSTEM ---
            function toggleNotes() {
                document.getElementById('notesSidebar').classList.toggle('open');
                loadNote();
            }

            function saveNote() {
                const text = document.getElementById('noteInput').value;
                notesStorage[getPageId(currentPage)] = text;
                localStorage.setItem('socio_ebook_notes', JSON.stringify(notesStorage));
                showToast("Note Saved!");
            }

            function loadNote() {
                const saved = notesStorage[getPageId(currentPage)] || "";
                document.getElementById('noteInput').value = saved;
            }

            function downloadNotes() {
                let content = "MY SOCIOLOGY NOTES\n==================\n\n";
                for (let i = 1; i <= totalPages; i++) {
                    const pid = getPageId(i);
                    if (notesStorage[pid]) {
                        content += `[Page ${i}]: ${notesStorage[pid]}\n------------------\n`;
                    }
                }
                const blob = new Blob([content], {
                    type: 'text/plain'
                });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = 'Sociology_Notes.txt';
                a.click();
            }

            function showToast(msg) {
                const toast = document.getElementById('toast');
                toast.innerText = msg;
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            }

            // Close modal on outside click
            window.onclick = function(e) {
                if (e.target == document.getElementById('glossaryModal')) closeModal();
            }
        </script>

</body>

</html>
